# リファクタリング - 図解プロンプト

> **重要**: このプロンプトを画像AIに入力する際は、キャラクターの元画像を一緒に添付してください。

## プロンプト

```
【タイトル】リファクタリング（画像上部に大きく配置）

【図解タイプ】フローチャート（左から右への流れ）
【テイスト】手書き風スケッチ、ラフな走り書き、ホワイトボードに描いたような、マーカーペンのタッチ、親しみやすい雰囲気
【カラースキーム】赤（課題）・青（プロセス）・緑（結果）のマーカー、白またはクリーム色の背景
【レイアウト】左から右への4ステップフロー

【解説キャラクター】添付画像のキャラクター（男の子とインコたち）を右下に配置、リファクタリングフローを指し示しながら解説している構図

【構成要素】
- ステップ1（赤）: 技術的負債の検出
- ステップ2（青）: 優先順位付け
- ステップ3（青）: 安全なリファクタリング
- ステップ4（緑）: 改善完了
- 下部: コードスメルの例

【テキスト内容】
ステップ1（赤）「技術的負債検出」:
  アイコン: 虫眼鏡
  - コードスメル検出
  - 静的解析
  - メトリクス計測

ステップ2（青）「優先順位付け」:
  アイコン: 順位リスト
  - 影響範囲
  - リスク
  - 工数

ステップ3（青）「安全なリファクタ」:
  アイコン: 盾
  - テストファースト
  - 小さなステップ
  - ストラングラーフィグ

ステップ4（緑）「改善完了」:
  アイコン: チェックマーク
  - 外部振る舞い維持
  - 内部構造改善
  - 保守性向上

下部（コードスメルの例）:
  ×「長いメソッド」
  ×「神クラス」
  ×「機能の横恋慕」
  ×「プリミティブ執着」

【スタイル指示】
- 手書き風スケッチ、ラフな走り書き
- ホワイトボードに描いたような質感
- マーカーペンのタッチ（線に少しブレがある）
- 親しみやすい雰囲気
- 日本語テキスト
- 4ステップを左から右へ
- 赤→青→緑で改善の流れを表現
- 下部のコードスメルは×マーク
- 余白を十分に確保
- 男の子とインコが一緒に解説している構図
```

---

## Xポスト文面

```
リファクタリングフローを図解

1️⃣ 技術的負債検出
・コードスメル、静的解析、メトリクス

2️⃣ 優先順位付け
・影響範囲、リスク、工数

3️⃣ 安全なリファクタ
・テストファースト、小さなステップ

4️⃣ 改善完了
・外部振る舞い維持、内部構造改善

コードスメル例
×長いメソッド ×神クラス

#ClaudeCode #AgentSkills #リファクタリング #テック図解 #AIイラスト
```

---

## 設計メモ

### 図解タイプの選定理由
- 「フローチャート型」を採用：検出→優先順位→実施→完了の流れ
- 赤→青→緑の色で改善プロセスを視覚化

### コンセプト
- 「外部振る舞いを変えずに内部構造を改善」が定義
- 安全に進めるためのプラクティス（テストファースト、小さなステップ）
- コードスメルの具体例を提示
